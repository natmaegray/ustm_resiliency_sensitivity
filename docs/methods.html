<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 2 Methods | USTM Resiliency Sensitivity Analysis</title>
  <meta name="description" content="A short description" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content=" 2 Methods | USTM Resiliency Sensitivity Analysis" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="A short description" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 2 Methods | USTM Resiliency Sensitivity Analysis" />
  
  <meta name="twitter:description" content="A short description" />
  



<meta name="date" content="2021-12-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="findings.html"/>
<style type="text/css">
p.abstract{
  text-align: center;
  font-weight: bold;
}
div.abstract{
  margin: auto;
  width: 90%;
}
</style>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">USTM Resiliency Sensitivity</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Questions</a></li>
<li class="chapter" data-level="2" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>2</b> Methods</a></li>
<li class="chapter" data-level="3" data-path="findings.html"><a href="findings.html"><i class="fa fa-check"></i><b>3</b> Findings</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">USTM Resiliency Sensitivity Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="methods" class="section level1" number="2">
<h1><span class="header-section-number"> 2</span> Methods</h1>
<p>To examine the effects of parameter input sensitivity, a 25 zone dummy model was created using data from <a href="https://github.com/ActivitySim/activitysim" class="uri">https://github.com/ActivitySim/activitysim</a>. The skims data was read in to get the values between zones for the distance, the single occupancy vehicle AM time, the walk distance, and the AM time for walk to local bus total in vehicle time. Auto time is simplified using the SOV AM time, nonmotorized uses walking distance multiplied by a factor of average walking speed, and transit time uses the walk to local bus time. The activitysim household data is also used and then organized so that it is capped at 4 persons, 3 vehicles, and 2 workers per household. If the value is larger than that capacity is is marked as the high values.</p>
<p>Activitysim doesnâ€™t have trip productions so nhts2017 data <a href="https://github.com/byu-transpolab/nhts2017" class="uri">https://github.com/byu-transpolab/nhts2017</a> can be used to approximate them. Only weekday trips are used and the household sizes, vehicles, and workers are capped to the same extent as the activitysim households. The data is summarized by household sizes, vehicles and workers, and the weighted mean of each trip purpose is taken. The three trip purposes used are Home Based Work, Home Based Other, and Non-Home Based. The nhts2017 approximated productions are then applied to each household based on size, vehicles, and workers.</p>
<p>Next mode choice parameters (constants and coefficients) are generated. The base values were obtained from the USTM Resiliency model. These values are shown in Table <a href="methods.html#tab:MCcoeff">2.1</a>, and Table <a href="methods.html#tab:MCconst">2.2</a>.</p>
<table>
<caption><span id="tab:MCcoeff">Table 2.1: </span>Mode Choice Coefficients</caption>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="right">HBW</th>
<th align="right">HBO</th>
<th align="right">NHB</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CIVTT</td>
<td align="right">-0.0450</td>
<td align="right">-0.0350</td>
<td align="right">-0.0400</td>
</tr>
<tr class="even">
<td align="left">CCOST</td>
<td align="right">-0.0016</td>
<td align="right">-0.0016</td>
<td align="right">-0.0016</td>
</tr>
<tr class="odd">
<td align="left">CWALK1</td>
<td align="right">-0.0900</td>
<td align="right">-0.0700</td>
<td align="right">-0.0800</td>
</tr>
<tr class="even">
<td align="left">AUTOCOST</td>
<td align="right">18.3000</td>
<td align="right">18.3000</td>
<td align="right">18.3000</td>
</tr>
</tbody>
</table>
<table>
<caption><span id="tab:MCconst">Table 2.2: </span>Mode Choice Constants</caption>
<thead>
<tr class="header">
<th align="left">Name</th>
<th align="right">HBW</th>
<th align="right">HBO</th>
<th align="right">NHB</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">K_TRN</td>
<td align="right">-0.5140</td>
<td align="right">-0.9853</td>
<td align="right">-1.3020</td>
</tr>
<tr class="even">
<td align="left">K_NMOT</td>
<td align="right">1.7602</td>
<td align="right">0.5448</td>
<td align="right">-0.5359</td>
</tr>
</tbody>
</table>
<p>A coefficient of variation is used to identify a standard deviation for each parameter. A set coefficient of variation of 0.30 is used for all six parameters. The standard deviation is equal to 0.30 multiplied by the mean, where the mean values are the base scenario parameters. (SD = CV*mean).</p>
<p>The random sampling uses the R function of rnorm.</p>
<pre><code>  rnorm(1, mean_value, 0.30*mean_value). </code></pre>
<p>Ten random samples are taken, and the same function format is used for each of the six variables.</p>
<p>Latinhypercube sampling uses the lhs package in R. Since this package only chooses variables on a zero to one scale, the values given the use the function</p>
<pre><code>  qunif(X[,1], mean_value-0.30*mean_value, mean_value+0.30*mean_value) </code></pre>
<p>to put the random sampling on the right scale needed for the given parameter. This is then applied for all six parameters for the five samples of latinhypercube sampling.</p>
<p>Now the mode choice logsum can be calculated for each of the list types and their iterations.</p>
<p>The utility exuations are as follows:</p>
<pre><code>  drive_utility = (coeff_ivtt*auto)+(coeff_cost*auto_cost*DIST)
  nonmo_utility = (k_nmot + 20*(coeff_walk1*nonmotor))
  trans_utility = k_trn + (coeff_ivtt*transit) </code></pre>
<p>These utilities are then exponentiated, added together, and the natural log is taken to get a logsum value for every origin and destination pair.</p>
<p>The shapefile for the dummy model is shown in Figure <a href="methods.html#fig:TAZmap">2.1</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:TAZmap"></span>
<img src="ustm_resiliency_sensitivity_files/figure-html/TAZmap-1.png" alt="TAZ Map with ID" width="672" />
<p class="caption">
Figure 2.1: TAZ Map with ID
</p>
</div>
<p>The initial model was run, the change was calculated on a random selection basis, and then using latin hyoercube sampling, to see if latin hypercube sampling can estimate uncertainty in fewer runs.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="findings.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["ustm_resiliency_sensitivity.pdf", "ustm_resiliency_sensitivity.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
